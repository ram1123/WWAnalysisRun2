<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WWVBS: Table Of Content</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WWVBS
   &#160;<span id="projectnumber">0.0</span>
   </div>
   <div id="projectbrief">Background estimation of W+jets using alpha-ratio method</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Table Of Content </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li><a href="#how-to-get-software">How To Get Software</a></li>
<li><a href="#how-to-use">How To Use</a><ul>
<li><a href="#things-to-change-in-configuration-file">Things to change in configuration file</a></li>
<li><a href="#readouttype">ReadOutType</a></li>
</ul>
</li>
<li><a href="#cluster-size-study">Cluster Size Study</a></li>
<li><a href="#alignment-of-detector">Alignment of Detector</a><ul>
<li><a href="#from-the-turbosoftware">From the Turbosoftware</a></li>
<li><a href="#using-aiwu-fnal-software">Using Aiwu-FNAL software</a></li>
<li><a href="#space-resolution-studies">Space-Resolution Studies</a></li>
<li><a href="#efficiency-study">Efficiency Study</a></li>
</ul>
</li>
<li><a href="#some-terminology-used-to-save-information-in-the-tree">Some Terminology used to save information in the tree</a></li>
<li><a href="#definiton-of-different-terms-used-in-configuration-file">Definiton of Different Terms Used in Configuration File</a></li>
</ul>
<hr/>
<h1>How To Get Software</h1>
<p class="">Test Beam Data Analysis Software</p>
<p class="">To clone this particular branch use : </p><pre class="fragment">git clone -b Oct2016TestBeam https://github.com/ram1123/TurboSoftware.git
</pre><p class="">To work on lxplus you need to use Root version 5.34.00. For that just source the below two lines. </p><pre class="fragment">source /afs/cern.ch/sw/lcg/contrib/gcc/4.8/x86_64-slc6/setup.sh
source /afs/cern.ch/sw/lcg/app/releases/ROOT/5.34.00/x86_64-slc6-gcc46-opt/root/bin/thisroot.sh
</pre><h1>How To Use</h1>
<p class="">Before use you need to <em>set the configuration files</em> as per the experimental setup. If the configuration file is set properly then use the script described below else set the configuration file. The description of configuration file is given in next section.</p>
<p class="">To analyze runs there is a script named <b>RunTurbo.sh</b>, which is placed in EventBuilder directory. To use this script there are several options which is given below: </p><pre class="fragment">Usage: RunTurbo.sh [-h | --help] [-i] [-f]
Options:

-h, --help  Display this help message and exit.

-r              This option ask you to enter the two numbers:   
        1. First  : Initial Run Number
        2. Second : Final Run Number

-l      This option ask you to enter the two numbers:
        1. First : Initial Latency 
        2. Second : Final Latency

-f      This option ask you to enter the Input Data directory path.
         We can also set the default path at line number 47 in 
         this script.

-e      This option will ask you which process you want to run.
         Want to run full Turbo or only one out of 3 steps.
         or want to get only Efficiency text file.
        Also, this will ask, whether you want to delete the 
        existing root files or not.

-m      This option will mail yout the Efficiency txt file on the 
         email provided by you.

-i      This option will ask you and if you need text file from input
        directory or not? By default it takes input form the Output
        directory in EventBuilder Directory.
</pre><p class="">Also, there is one more script named <b>GetPlot.sh</b>, which is in ppt directory. Again, to use this script some of available options are: </p><pre class="fragment">Usage: GetPlots.sh [-h | --help] [-r] [-p PathOfInputNtuples]

Options:

-h, --help  Display this help message and exit.
-r              This option ask you to enter the two numbers:   
        1. First  : Initial Run Number
        2. Second : Final Run Number
-p          Ask you to enter the path of Ntuples
-g      Don't want to get ppt then use this option.
-m      This option will mail yout the Efficiency txt file on the 
         email provided by you.
</pre><p class="">Summary of how to use: </p><pre class="fragment">cd TurboSoftware/EventBuilder
./RunTurbo.sh -r    # This will give you root files
cd ../ppt
./GetPlot.sh -r     # This will give you plots from the root file created from RunTurbo.sh script.
</pre><p class="">Path of Input Data: </p><pre class="fragment">To be updated...
</pre><h2>Things to change in configuration file</h2>
<p class=""><b>Path of configuration files:</b> TurboSoftware/EventBuilder/ConfigFiles/</p>
<p class="">Things to note before modifying the configuration file:</p>
<ol type="1">
<li>What type of detectors readout we have?<ul>
<li>If we have 10x10 GEM detector type readout then its readout type is 0 or 1. If readout has x-axis then the readout type should be 0 if it is y-axis then its readout type should be 1.</li>
<li>For GE11 type readout its value is 9. (Note that it has only 1-D readout)</li>
</ul>
</li>
<li>Note the detector chip ID, turbo ID and slot ID.</li>
</ol>
<p class="">Things to change in configuration file:</p>
<ol type="1">
<li>DetectorConfig _*.conf<ul>
<li>List all the detectors used (follow the pattern) with its readout type.</li>
<li>Other possible changes may be for the variables TotChannels.</li>
<li>See all other parameters in the configure whose name is reflected by its name and if you need you can change others too.</li>
</ul>
</li>
<li>VFATConfig_*.conf<ul>
<li>Main parameter to edit is the ChipId, TurboId and SlotId.</li>
<li>Other important parameter is DetectorId. Value of this variable is taken from the previous config file.</li>
</ul>
</li>
<li>OffsetFlip <em>EventBuilderVFAT</em>*.conf<ul>
<li>Propagate the detectors information here as per pervious configuration file. <br />
</li>
</ul>
</li>
<li>OffsetTracker_*.conf<ul>
<li>Here we just need to add information about the trackers. Name of tracker and the z-position of tracker.</li>
</ul>
</li>
<li>OffsetAndCoverage_Analyzer_*.conf<ul>
<li>This configuration is for the analyzer part.</li>
<li>This mainly calculates efficiency of the detector under consideration.</li>
<li>But, presently the* major drawback is that the code is hardcoded for the particular geometry*.</li>
<li>In this configuration file the mandatory things are z-position (zOff), name of detector (DetectorName), area to scan (xMin, xMax, yMin and yMax) and radius (effRad).</li>
<li>Here, xMin, xMax, yMin, and yMax are corresponding to the area of detector under consideration</li>
<li><b>effRad</b>: The difference of extraplotted track (from fitting of track information) and the actual hit should be less than then number assigned to <em>effRad</em></li>
</ul>
</li>
</ol>
<h2>ReadOutType</h2>
<p class="">Availabe readout types are </p><pre class="fragment">0:  X Strips with 400um pitch
1:  Y Strips with 400um pitch
2:  X Strips with 800um pitch
3:  Y Strips with 800um pitch
4:  Totem T2 Strips // Not for us
5:  Totem T2 Pads   // Not for us
6:  Totem T1 LG     // Not for us
8:  CMS 30x30       // Not for us
9:  CMS GE1/1   (along X-axis)
</pre><p class="">Link of the file containing this information is <a href="https://github.com/ram1123/TurboSoftware/blob/Oct2016TestBeam/EventBuilder/Mapping/ReadoutType.cpp">here</a>.</p>
<p class="">CMS GE1/1 readout mapping is <a href="https://github.com/ram1123/TurboSoftware/blob/Oct2016TestBeam/EventBuilder/Mapping/CmsMapping.cpp">here</a>.</p>
<h1><a class="el" href="class_cluster.html">Cluster</a> Size Study</h1>
<p class="">For this study there are three codes named</p>
<ol type="1">
<li><em>RunClusterSize.sh</em> : This is script to run on many events. This takes eventbuilder output root file as input. So, you may need to change path for the input directory.</li>
<li><em>ClusterSize.C</em> : This is the main macro that extract cluster size information makes histogram for the same and fits it. So, along with plots it also gives you the text file where you can find the summary of clustersize for each run.</li>
<li><em>Cluster_Size_vs_HV.C</em> : This codes just plots the cluster size vs HV.</li>
</ol>
<h1>Alignment of <a class="el" href="class_detector.html">Detector</a></h1>
<h2>From the Turbosoftware</h2>
<h2>Using Aiwu-FNAL software</h2>
<h2>Space-Resolution Studies</h2>
<h2>Efficiency Study</h2>
<h1>Some Terminology used to save information in the tree</h1>
<ul>
<li><b>g1</b>: 10x10 GEM detector, Used as first reference tracker.</li>
<li><b>g2</b>: 10x10 GEM detector, Used as second reference tracker.</li>
<li><b>g3</b>: 10x10 GEM detector, Used as third reference tracker.</li>
<li><b>LC1</b>: GE1/1-IV-GIF</li>
<li><b>LC2</b>: GE1/1-IV</li>
<li><b>LC3</b>: GE1/1-V</li>
<li><b>ngeoch</b>: Gives the number of Clsuters</li>
<li><b>geoch</b>: Gives the VFAT channel numbers fired on the tracker.</li>
<li><b>geoX</b>: Gives the fired position of channel on tracker (in mm).</li>
<li><b>geoposch</b>: Gives the cluster position in terms of channel number.</li>
<li><b>geoposX</b>: Gives the hit position in detectors in mm along X axis.</li>
</ul>
<h1>Definiton of Different Terms Used in Configuration File</h1>
<ul>
<li><b>Chip ID</b> : This is the hardware ID for the different VFAT chips used in tracker or GEM.</li>
<li><b>Channels</b> : This is the number of channels in each chip. (which is 128 for the VFATs).</li>
<li><b><a class="el" href="class_detector.html">Detector</a> ID</b> : This specify to which detector the chip are connected. The X and Y coordinates of the Trackers are considered as two different detectors. This ID will be used later to assign the VFAT channel status to a detector channel status. For Trackers it shoud be less than 21. If not then modify the loop if ( (ichip&gt;= 0) &amp;&amp; (chipdet[ichip]&lt;21) ) in the file rd51_EventBuilderVFAT.C</li>
<li><b><a class="el" href="class_detector.html">Detector</a> Name</b> : Name of detector</li>
<li><b><a class="el" href="class_detector.html">Detector</a> Sector</b> : sector of detector</li>
<li><b>Chip Invert</b> : The Invert tell to the software how the VFATs channels are placed in the space (right-left, top-bottom). Looking at the chip from the top of the hybrid (with the chip in the bottom) the channel 0 is on the Left.</li>
<li><b>Chip Offset</b> :</li>
<li><b>Turbo ID</b> : Where the VFAT joined on Turbo, is it addedin master TURBO or in which slave?</li>
<li><b>Slot ID</b> : In which slot of TURBO the VFAT is connected?</li>
<li><b>xFlip and yFlip</b> : It just flips the VFAT information</li>
<li><b>Read Out Type</b> : This is basically the mapping of the particular detector. It is described briefly in section <a href="#readouttype">ReadOutType</a>.</li>
</ul>
<hr/>
 </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
